///////////////////////////////////////////////////////////////////////
// Grenade Launcher Effects


AddEffect = MOSRotating
	PresetName = Grenade Launcher Grenade Explosion
	Mass = 5
	RestThreshold = -500
	HitsMOs = 0
	GetsHitByMOs = 0
	Sharpness = 0
	SpriteFile = ContentFile
		FilePath = Base.rte/Null.bmp
	AtomGroup = AtomGroup
		CopyOf = Null AtomGroup
	GibSound = SoundContainer
		AttenuationStartDistance = 220
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode1.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode2.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode3.wav
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Glow Explosion Huge
		Spread = 3.14
		MaxVelocity = 1
		MinVelocity = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Side Thruster Blast Ball 1 Glow
		Count = 10
		Spread = 3.14
		MaxVelocity = 10
		MinVelocity = 5
		LifeVariation = 0.30
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 1
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 45
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 2
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 45
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Gray
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 60
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Yellow
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 60
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Air Blast Scripted
		Spread = 0
		MaxVelocity = 80
		MinVelocity = 80
		InheritsVel = 0
	GibImpulseLimit = 15000


///////////////////////////////////////////////////////////////////////
// Grenade Launcher Ammo


AddEffect = MOSRotating
	PresetName = Grenade Launcher Shot Impact
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Base.rte/Scripts/Shared/SmokeTrail.lua
	AddCustomValue = NumberValue
		SmokeTrailLifeTime = 400
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	GibSound = SoundContainer
		AttenuationStartDistance = 220
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode1.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode2.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode3.wav
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Glow Explosion Huge
		Spread = 3.14
		MaxVelocity = 1
		MinVelocity = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Side Thruster Blast Ball 1 Glow
		Count = 10
		Spread = 3.14
		MaxVelocity = 10
		MinVelocity = 5
		LifeVariation = 0.30
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 1
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 45
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 2
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 45
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Gray
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 60
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Yellow
		Count = 20
		Spread = 3.14
		MaxVelocity = 90
		MinVelocity = 60
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Air Blast Scripted
		Spread = 0
		MaxVelocity = 80
		MinVelocity = 80
		InheritsVel = 0
	GibImpulseLimit = 5


AddActor = Actor
	PresetName = Grenade Launcher Shot Bounce
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeBounce.lua
	ScriptPath = Base.rte/Scripts/Shared/SmokeTrail.lua
	AddCustomValue = NumberValue
		SmokeTrailLifeTime = 400
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
			PresetName = Coalition Grenade Military Stuff
			Bounce = 0.5
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Coalition Grenade Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	ImpulseDamageThreshold = 10000
	Status = 0
	Health = 100
	Team = -1
	AimAngle = 0
	AimDistance = 0
	Perceptiveness = 0
	CharHeight = 0
	GibImpulseLimit = 9999999999
	GibWoundLimit = 2


AddActor = Actor
	PresetName = Grenade Launcher Shot Remote
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeRemote.lua
	ScriptPath = Base.rte/Scripts/Shared/SmokeTrail.lua
	AddCustomValue = NumberValue
		SmokeTrailLifeTime = 400
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	ImpulseDamageThreshold = 10000
	Status = 0
	Health = 100
	Team = -1
	AimAngle = 0
	AimDistance = 0
	Perceptiveness = 0
	CharHeight = 0
	GibImpulseLimit = 9999999999
	GibWoundLimit = 2


AddAmmo = Round
	PresetName = Round Grenade Launcher Impact Grenade
	ParticleCount = 1
	Particle = MOSRotating
		CopyOf = Grenade Launcher Shot Impact
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 35
	ShellVelocity = 0
	Separation = 5


AddAmmo = Round
	PresetName = Round Grenade Launcher Bounce Grenade
	ParticleCount = 1
	Particle = Actor
		CopyOf = Grenade Launcher Shot Bounce
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 35
	ShellVelocity = 0
	Separation = 5


AddAmmo = Round
	PresetName = Round Grenade Launcher Remote Grenade
	ParticleCount = 1
	Particle = MOPixel
		CopyOf = Null Bullet
		PresetName = Grenade Launcher Null Grenade
		Mass = 5
		LifeTime = 2000
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 35
	ShellVelocity = 0
	Separation = 5


AddAmmo = Magazine
	PresetName = Magazine Grenade Launcher Impact Grenade
	Mass = 4
	HitsMOs = 0
	GetsHitByMOs = 0
	CollidesWithTerrainWhenAttached = 1
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherMagazine.bmp
	FrameCount = 1
	SpriteOffset = Vector
		X = -3
		Y = -10
	ParentOffset = Vector
		X = 4
		Y = 6
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 3
		Depth = 1
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 1
	DrawAfterParent = 1
	RoundCount = 6
	RTTRatio = 0
	RegularRound = Round
		CopyOf = Round Grenade Launcher Impact Grenade
	TracerRound = None
	Discardable = 1
	AIBlastRadius = 50


AddAmmo = Magazine
	CopyOf = Magazine Grenade Launcher Impact Grenade
	PresetName = Magazine Grenade Launcher Bounce Grenade
	RegularRound = Round
		CopyOf = Round Grenade Launcher Bounce Grenade


AddAmmo = Magazine
	CopyOf = Magazine Grenade Launcher Impact Grenade
	PresetName = Magazine Grenade Launcher Remote Grenade
	RegularRound = Round
		CopyOf = Round Grenade Launcher Remote Grenade


///////////////////////////////////////////////////////////////////////
// Grenade Launcher


AddDevice = HDFirearm
	PresetName = Grenade Launcher
	AddToGroup = Weapons
	AddToGroup = Weapons - Primary
	AddToGroup = Weapons - Light
	AddToGroup = Weapons - Explosive
	Description = Automatic grenade launcher with three different modes.  Detonate remote-controlled grenades by selecting the 'Detonate Grenades' button in the pie menu while holding the launcher, or remove them by pressing the 'Remove Grenades' button.  Up to 12 grenades can be active at the same time.
	Mass = 12
	HitsMOs = 0
	GetsHitByMOs = 1
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.lua
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.bmp
	FrameCount = 2
	SpriteOffset = Vector
		X = -9
		Y = -5
	EntryWound = AEmitter
		CopyOf = Dent Metal
	ExitWound = AEmitter
		CopyOf = Dent Metal
	GoldValue = 90
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 10
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 0.5
	JointOffset = Vector
		X = -2
		Y = 3
	DrawAfterParent = 0
	StanceOffset = Vector
		X = 5
		Y = 6
	SharpStanceOffset = Vector
		X = 8
		Y = 1
	SupportOffset = Vector
		X = 4
		Y = 5
	SharpLength = 100
	Magazine = Magazine
		CopyOf = Magazine Grenade Launcher Impact Grenade
	Flash = Attachable
		CopyOf = Muzzle Flash Shotgun
	FireSound = SoundContainer
		AttenuationStartDistance = 200
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire1.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire2.wav
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire3.wav
	EmptySound = SoundContainer
		AddSound = ContentFile
			FilePath = Base.rte/Sounds/Devices/EmptyClick1.wav
	ReloadStartSound = SoundContainer
		AttenuationStartDistance = 140
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadStart.wav
	ReloadEndSound = SoundContainer
		AttenuationStartDistance = 140
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadEnd.wav
	RateOfFire = 180
	ReloadTime = 2500
	FullAuto = 1
	FireIgnoresThis = 1
	ShakeRange = 6
	SharpShakeRange = 2
	NoSupportFactor = 3
	ParticleSpreadRange = 1
	ShellSpreadRange = 8
	ShellAngVelRange = 0
	MuzzleOffset = Vector
		X = 10
		Y = 0
	EjectionOffset = Vector
		X = 10
		Y = 0
	AddPieSlice = Slice
		Description = Impact Mode
		Direction = 2
		Icon = Icon
			CopyOf = Impact
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherImpact
	AddPieSlice = Slice
		Description = Bounce Mode
		Direction = 2
		Icon = Icon
			CopyOf = Bounce
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherBounce
	AddPieSlice = Slice
		Description = Remote Mode
		Direction = 2
		Icon = Icon
			CopyOf = Remote
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemote
	AddPieSlice = Slice
		Description = Remove Grenades
		Direction = 1
		Icon = Icon
			CopyOf = Cancel
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDelete
	AddPieSlice = Slice
		Description = Detonate Grenades
		Direction = 1
		Icon = Icon
			CopyOf = Detonate
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDetonate
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon A
		Offset = Vector
			X = -4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon H
		Offset = Vector
			X = 4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon G
		Offset = Vector
			X = 1
			Y = -2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = -1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = -2
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = 2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 1
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 6
			Y = 1
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 1
		Count = 6
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 2
		Count = 5
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Drop Oil
		Count = 8
		Spread = 2.25
		MaxVelocity = 10
		MinVelocity = 1
	GibWoundLimit = 6