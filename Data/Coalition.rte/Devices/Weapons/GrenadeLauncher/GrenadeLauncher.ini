///////////////////////////////////////////////////////////////////////
// Grenade Launcher Pie Menu


AddPieMenu = PieMenu
	PresetName = Coalition Grenade Launcher Pie Menu
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Impact Mode
		Description = Impact Mode
		Icon = Icon
			CopyOf = Impact
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherImpact
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Bounce Mode
		Description = Bounce Mode
		Icon = Icon
			CopyOf = Bounce
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherBounce
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Remote Mode
		Description = Remote Mode
		Icon = Icon
			CopyOf = Remote
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemote
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Remove Grenades
		Description = Remove Grenades
		Icon = Icon
			CopyOf = Cancel
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDelete
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Detonate Grenades
		Description = Detonate Grenades
		Icon = Icon
			CopyOf = Detonate
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDetonate


///////////////////////////////////////////////////////////////////////
// Grenade Launcher Effects


AddEffect = MOSRotating
	PresetName = Coalition Grenade Launcher Explosion
	Mass = 5
	RestThreshold = -500
	HitsMOs = 0
	GetsHitByMOs = 0
	SpriteFile = ContentFile
		FilePath = Base.rte/Null.png
	AtomGroup = AtomGroup
		CopyOf = Null AtomGroup
	GibSound = SoundContainer
		AttenuationStartDistance = 220
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode1.flac
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode2.flac
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Explode3.flac
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Glow Explosion Huge
		MaxVelocity = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Side Thruster Blast Ball 1 Glow
		Count = 10
		MaxVelocity = 10
		MinVelocity = 5
		LifeVariation = 0.30
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 1
		Count = 18
		MaxVelocity = 50
		MinVelocity = 25
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Grenade Smoke 2
		Count = 18
		MaxVelocity = 50
		MinVelocity = 25
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Gray
		Count = 18
		MaxVelocity = 80
		MinVelocity = 40
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Yellow
		Count = 18
		MaxVelocity = 80
		MinVelocity = 40
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Air Blast Scripted
		Spread = 0
		MaxVelocity = 70
		MinVelocity = 70
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Particle Very Heavy Digger Damage
		Count = 25
		MaxVelocity = 50
		MinVelocity = 25
		InheritsVel = 0
		SpreadMode = 1
	GibImpulseLimit = 15000


///////////////////////////////////////////////////////////////////////
// Grenade Launcher Ammo


AddActor = Actor
	PresetName = Coalition Grenade Launcher Shot
	Mass = 5
	Sharpness = 0
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.lua
	ScriptPath = Base.rte/Scripts/Shared/SmokeTrail.lua
	AddCustomValue = NumberValue
		SmokeTrailLifeTime = 500
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.png
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	ImpulseDamageThreshold = 10000
	HUDVisible = 0
	Team = -1
	GibImpulseLimit = 9999999999
	GibWoundLimit = 2


AddAmmo = Round
	PresetName = Round Coalition Grenade Launcher
	ParticleCount = 1
	Particle = MOPixel
		CopyOf = Null Bullet
		PresetName = Coalition Grenade Launcher Null Grenade
		Mass = 5
		LifeTime = 2000
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 35
	ShellVelocity = 1
	Separation = 5


AddAmmo = Magazine
	PresetName = Magazine Coalition Grenade Launcher
	Mass = 4
	HitsMOs = 0
	GetsHitByMOs = 0
	CollidesWithTerrainWhileAttached = 1
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherMagazine.png
	FrameCount = 1
	SpriteOffset = Vector
		X = -3
		Y = -10
	ParentOffset = Vector
		X = 4
		Y = 6
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 3
		Depth = 1
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 1
	DrawAfterParent = 1
	RoundCount = 6
	RegularRound = Round
		CopyOf = Round Coalition Grenade Launcher
	Discardable = 1
	AIBlastRadius = 50


///////////////////////////////////////////////////////////////////////
// Grenade Launcher


AddDevice = HDFirearm
	PresetName = Grenade Launcher
	AddToGroup = Weapons
	AddToGroup = Weapons - Primary
	AddToGroup = Weapons - Light
	AddToGroup = Weapons - Explosive
	Description = Automatic grenade launcher with three different modes.  Detonate remote-controlled grenades by selecting the 'Detonate Grenades' button in the pie menu while holding the launcher, or remove them by pressing the 'Remove Grenades' button.  Up to 12 grenades can be active at the same time.
	Mass = 12
	HitsMOs = 0
	GetsHitByMOs = 1
	AddCustomValue = StringValue
		GrenadeMode = Impact
	ScriptPath = Base.rte/Devices/Shared/Scripts/TrajectoryGuide.lua
	AddCustomValue = NumberValue
		TrajectoryGuideBlastRadius = 30
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.lua
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.png
	IconFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherIcon.png
	FrameCount = 2
	SpriteOffset = Vector
		X = -9
		Y = -5
	EntryWound = AEmitter
		CopyOf = Dent Metal Device
	ExitWound = AEmitter
		CopyOf = Dent Metal Device
	GoldValue = 90
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 10
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 0.5
	JointOffset = Vector
		X = -2
		Y = 3
	DrawAfterParent = 0
	StanceOffset = Vector
		X = 5
		Y = 6
	SharpStanceOffset = Vector
		X = 8
		Y = 1
	SupportOffset = Vector
		X = 4
		Y = 5
	SharpLength = 100
	Magazine = Magazine
		CopyOf = Magazine Coalition Grenade Launcher
	Flash = Attachable
		CopyOf = Muzzle Flash Shotgun
	FireSound = SoundContainer
		AttenuationStartDistance = 200
		PitchVariation = 0.05
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire1.flac
	EmptySound = SoundContainer
		AddSound = ContentFile
			FilePath = Base.rte/Sounds/Devices/EmptyClick1.flac
	ReloadStartSound = SoundContainer
		AttenuationStartDistance = 140
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadStart.flac
	ReloadEndSound = SoundContainer
		AttenuationStartDistance = 140
		AddSound = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadEnd.flac
	RateOfFire = 160
	ReloadTime = 2700
	FullAuto = 1
	FireIgnoresThis = 1
	ShakeRange = 6
	SharpShakeRange = 2
	NoSupportFactor = 3
	ParticleSpreadRange = 1
	ShellEjectAngle = 0
	ShellSpreadRange = 5
	ShellAngVelRange = 0
	MuzzleOffset = Vector
		X = 10
		Y = 0
	EjectionOffset = Vector
		X = 10
		Y = 0
	AddPieSlice = PieSlice
		PresetName = Coalition Grenade Launcher Options
		Description = Grenade Launcher Options
		Direction = Down
		Icon = Icon
			CopyOf = Circuit Board
		SubPieMenu = PieMenu
			CopyOf = Coalition Grenade Launcher Pie Menu
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon A
		Offset = Vector
			X = -4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon H
		Offset = Vector
			X = 4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon G
		Offset = Vector
			X = 1
			Y = -2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = -1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = -2
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = 2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 1
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 6
			Y = 1
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 1
		Count = 6
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 2
		Count = 5
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Drop Oil
		Count = 8
		Spread = 2.25
		MaxVelocity = 10
		MinVelocity = 1
	GibWoundLimit = 7